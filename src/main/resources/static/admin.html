<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión Inventario - Panel Administrador</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <div class="dashboard-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h3>Gestión Inventario</h3>
                <p>Navegación</p>
            </div>
            <ul class="sidebar-menu">
                <li><a href="#" data-section="principal" class="active"><i class="fas fa-home"></i> Principal</a></li>
                <li><a href="#" data-section="productos"><i class="fas fa-box"></i> Productos</a></li>
                <li><a href="#" data-section="proveedores"><i class="fas fa-user"></i> Proveedores</a></li>
                <li><a href="#" data-section="compras"><i class="fas fa-shopping-bag"></i> Compras</a></li>
                <li><a href="#" data-section="usuarios"><i class="fas fa-users"></i> Usuarios</a></li>
                <li><a href="#" data-section="ventas"><i class="fas fa-shopping-cart"></i> Ventas</a></li>
                <li><a href="#" data-section="informes"><i class="fas fa-chart-bar"></i> Informes</a></li>
                <li><a href="#" data-section="stock"><i class="fas fa-warehouse"></i> Stock</a></li>
                <li><a href="#" id="logout-btn"><i class="fas fa-sign-out-alt"></i> Salir</a></li>
            </ul>
        </aside>

        <main class="main-content" tabindex="-1">
            <header class="main-header">
                <div class="header-left">
                    <div class="header-title">
                        <i class="fas fa-file-alt"></i>
                        <h2 id="section-title">Principal</h2>
                    </div>
                </div>
                <div class="user-info">
                    <i class="fas fa-user"></i>
                    <div>
                        <span id="header-user-name">Cargando...</span>
                        <span id="header-user-role">Cargando...</span>
                    </div>
                </div>
            </header>

            <section id="principal-section" class="spa-section">
    
    <div class="dashboard-stats">

        <div class="stat-card">
            <div class="stat-icon blue">
                <i class="fas fa-calendar"></i>
            </div>
            <div class="stat-content">
                <h3 id="ventas-mes-count">0</h3>
                <p>Ventas del Mes</p>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon green">
                <i class="fas fa-shopping-cart"></i>
            </div>
            <div class="stat-content">
                <h3 id="ventas-historicas-count">0</h3>
                <p>Ventas Históricas</p>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon purple">
                <i class="fas fa-cube"></i>
            </div>
            <div class="stat-content">
                <h3 id="productos-mes-count">0</h3>
                <p>Productos Vendidos (Mes)</p>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon red">
                <i class="fas fa-dollar-sign"></i>
            </div>
            <div class="stat-content">
                <h3 id="recaudacion-mes-amount">$0.00</h3>
                <p>Recaudación del Mes</p>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-box"></i>
            </div>
            <div class="stat-content">
                <h3 id="total-productos-count">0</h3>
                <p>Total Productos</p>
            </div>
        </div>
        <div class="stat-card warning">
            <div class="stat-icon">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
            <div class="stat-content">
                <h3 id="productos-agotados-count">0</h3>
                <p>Productos Agotados</p>
            </div>
        </div>
        <div class="stat-card alert">
            <div class="stat-icon">
                <i class="fas fa-lock"></i>
            </div>
            <div class="stat-content">
                <h3 id="stock-bajo-count">0</h3>
                <p>Stock Bajo</p>
            </div>
        </div>

    </div> <div class="low-stock-section">
        <h3>Productos que necesitan reposición</h3>
        <div class="table-container">
            <table class="data-table">
    <thead>
    
        <tr>
            <th data-sort-by="producto.nombre" class="sortable">Nombre <i class="sort-icon fas fa-sort"></i></th>
            <th data-sort-by="producto.categoria" class="sortable">Categoría <i class="sort-icon fas fa-sort"></i></th>
            <th>Descripción</th> 
            <th data-sort-by="stockActual" class="sortable">Stock <i class="sort-icon fas fa-sort"></i></th>
            <th data-sort-by="producto.precio" class="sortable">Precio <i class="sort-icon fas fa-sort"></i></th>
        </tr>
    </thead>
    <tbody id="low-stock-table-body"> 
        </tbody>
    
    <tfoot>
        <tr>
            <td colspan="5">
                <div class="pagination-controls" style="text-align: right; padding: 10px 0;">
                    <span id="low-stock-page-info" style="margin-right: 15px;">Página 1 de 1</span>
                    <button class="btn-outline" id="low-stock-prev-page" disabled>
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <button class="btn-outline" id="low-stock-next-page">
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </td>
        </tr>
    </tfoot>
    </table>
        </div>
    </div>

</section>

            <section id="productos-section" class="spa-section" style="display:none">
                <div class="section-header">
                </div>

                <div class="form-section">
                    <h4>Registrar Nuevo Producto</h4>
                    <form id="product-form" class="product-form" novalidate>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="product-name">Nombre del Producto</label>
                                <input type="text" id="product-name" name="nombre" placeholder="Ingrese el nombre del producto">
                                <div class="error-message" id="name-error"></div>
                            </div>
                            <div class="form-group">
                                <label for="product-category">Categoría</label>
                                <input type="text" id="product-category" name="categoria" placeholder="Ingrese la categoría">
                                <div class="error-message" id="category-error"></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="product-description">Descripción</label>
                            <textarea id="product-description" name="descripcion" placeholder="Descripción del producto"></textarea>
                            <div class="error-message" id="description-error"></div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="product-stock-min">Stock Mínimo</label>
                                <input type="number" id="product-stock-min" value="5">
                                <div class="error-message" id="stock-min-error"></div>
                            </div>

                            <div class="form-group">
                                <label for="product-stock-max">Stock Máximo</label>
                                <input type="number" id="product-stock-max" value="100">
                                <div class="error-message" id="stock-max-error"></div>
                            </div>
                        </div>
                        <button type="submit" class="btn-primary" style="margin-top: 20px;">
                            <i class="fas fa-plus"></i>
                            Registrar Producto
                        </button>
                    </form>
                    <p id="form-general-message-producto" class="form-message"></p>
                </div>

                <div class="table-section">
                    <h4>Productos Registrados</h4>
                    <div class="table-container-product">
                        <table class="data-table">
                            <thead>
                            <tr>
                    <th data-sort-by="nombre" class="sortable">Nombre <i class="sort-icon fas fa-sort"></i></th>
                    <th data-sort-by="categoria" class="sortable">Categoría <i class="sort-icon fas fa-sort"></i></th>
                    <th>Descripción</th>
                    <th data-sort-by="fechaCreacion" class="sortable">Fecha Creación <i class="sort-icon fas fa-sort"></i></th>
                    <th>Stock Mín.</th> 
                    <th>Stock Máx.</th> 
                </tr>
                            </thead>
                            <tbody id="product-table-body">

                            </tbody>
                        </table>
                    </div>
                            <div class="pagination-controls">
                            </div>
    <tfoot>
        <tr>
            <td colspan="6">
                <div class="pagination-controls" style="text-align: right; padding: 10px 0;">
                    <span id="product-page-info" style="margin-right: 15px;">Página 1 de 1</span>
                    <button class="btn-outline" id="product-prev-page" disabled>
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <button class="btn-outline" id="product-next-page">
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </td>
        </tr>
    </tfoot>
            </section>

            <section id="proveedores-section" class="spa-section" style="display:none">

                <div class="section-header">
                </div>
            
                <div class="form-section">
                    <h4>Registrar Nuevo Proveedor</h4>
                    <form id="proveedor-form" class="supplier-form" novalidate>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="proveedorNombre">Nombre del Proveedor</label>
                                <input type="text" id="proveedorNombre" name="nombre" placeholder="Nombre proveedor">
                                <div class="error-message" id="errorNombre"></div>
                            </div>
                            <div class="form-group">
                                <label for="proveedorTelefono">Teléfono</label>
                                <input type="text" id="proveedorTelefono" name="telefono" placeholder="123456789">
                                <div class="error-message" id="errorTelefono"></div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="proveedorEmail">Email</label>
                                <input type="email" id="proveedorEmail" name="email" placeholder="email@ejemplo.com">
                                <div class="error-message" id="errorEmail"></div>
                            </div>
                            <div class="form-group">
                                <label for="proveedorDireccion">Dirección</label>
                                <input type="text" id="proveedorDireccion" name="direccion" placeholder="Dirección completa">
                                <div class="error-message" id="errorDireccion"></div>
                            </div>
                        </div>
                        <div class="form-group">
    <label for="proveedorProductosSelect">Productos que Ofrece</label>
    
    <div id="productos-multi-select-container" class="custom-multi-select-container">
        
        <div id="tags-container" class="tags-container">
            
        </div>

        <input type="text" id="productos-select-input" class="custom-select-input" placeholder="Buscar y seleccionar productos...">
    
    </div> <div id="productos-options-container" class="options-container">
    </div>
    <select id="proveedorProductosSelect" name="productosIds" multiple>
    </select>
    <div class="error-message" id="proveedorProductosError"></div>
</div>
                        <button type="submit" class="btn-primary" style="margin-top: 20px;">
                            <i class="fas fa-plus"></i>
                            Registrar Proveedor
                        </button>
                    </form>
                    <p id="form-general-message-proveedor" class="form-message"></p>
                </div>
            
                <div class="table-section">
                    <h4>Proveedores Registrados</h4>
                    <div class="table-container table-container-proveedor">
                        <table class="data-table">
                            <thead>

                                <tr>

                                    <th data-sort-by="nombre" class="sortable">Nombre <i class="sort-icon fas fa-sort"></i></th>
                                    <th data-sort-by="email" class="sortable">Email <i class="sort-icon fas fa-sort"></i></th>
                                    <th data-sort-by="telefono" class="sortable">Teléfono <i class="sort-icon fas fa-sort"></i></th>
                                    <th>Productos</th>
                                    <th data-sort-by="direccion" class="sortable">Dirección <i class="sort-icon fas fa-sort"></i></th>
                                    <th>Acciones</th>
                                </tr>
                                
                            </thead>
                            <tbody id="proveedor-tabla">
                            </tbody>
                            
                        </table>
                        <div class="pagination-controls">
                            </div>
                                                        <div class="pagination-controls">
                            </div>
    <tfoot>
        <tr>
            <td colspan="6">
                <div class="pagination-controls" style="text-align: right; padding: 10px 0;">
                    <span id="proveedor-page-info" style="margin-right: 15px;">Página 1 de 1</span>
                    <button class="btn-outline" id="proveedor-prev-page" disabled>
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <button class="btn-outline" id="proveedor-next-page">
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </td>
        </tr>
    </tfoot>
                    </div>
                </div>
            </section>

<section id="compras-section" class="spa-section" style="display:none">
    <div class="section-header">
    </div>

    <div class="form-section">
        <h4>Registrar Nueva Compra</h4>
        <form id="compra-form" class="sale-form" novalidate>
            <div class="form-row">
                <div class="form-group">
                    <label for="compra-fecha">Fecha de Compra</label>
                    <input type="date" id="compra-fecha" value="">
                    <div class="error-message" id="errorCompraFecha"></div>
                </div>
                <div class="form-group">
    <label for="compra-proveedor-search">Proveedor</label>
    
    <div class="product-search-container">
        
        <input type="text" id="compra-proveedor-search" placeholder="Buscar proveedor por nombre..." class="product-search-input" autocomplete="off">
        
        <input type="hidden" id="compra-proveedor-id-hidden">
        
        <div id="compra-proveedor-results" class="product-results" style="display: none;">
            </div>
    </div>
    
    <div class="error-message" id="errorCompraProveedor"></div>
</div>
            </div>

            <div class="product-selection">
                <h5><i class="fas fa-box"></i> Detalle de la Compra</h5>
                
                <div class="form-row">
                    <div class="form-group" style="flex: 2;">
    <label for="compra-producto-search">Producto</label>
    
    <div class="product-search-container">
        
        <input type="text" id="compra-producto-search" placeholder="Buscar producto por nombre..." class="product-search-input" autocomplete="off">
        
        <input type="hidden" id="compra-producto-id-hidden">
        
        <div id="compra-producto-results" class="product-results" style="display: none;">
            </div>
    </div>
    
    <div class="error-message" id="errorCompraProducto"></div>
</div>
                    
                    <div class="form-group" style="flex: 1;">
                        <label for="compra-cantidad">Cantidad</label>
                        <input type="number" id="compra-cantidad" value="1" min="1">
                        <div class="error-message" id="errorCompraCantidad"></div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="compra-costo-unit">Precio de Costo (Unit.)</label>
                        <input type="text" id="compra-costo-unit" placeholder="0.00">
                        <div class="error-message" id="errorCompraCosto"></div>
                    </div>
                    <div class="form-group">
                        <label for="compra-venta-unit">Nuevo Precio Venta (Unit.)</label>
                        <input type="text" id="compra-venta-unit" placeholder="0.00">
                        <div class="error-message" id="errorCompraVenta"></div>
                    </div>
                </div>

                <button type="button" id="add-detalle-btn" class="btn-secondary" style="margin-top: 10px;">
                    <i class="fas fa-plus"></i>
                    Agregar Producto al Detalle
                </button>
                <div class="error-message" id="errorDetalleGeneral"></div>

                <div class="table-container" style="margin-top: 20px;">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Producto</th>
                                <th>Cantidad</th>
                                <th>Costo Unit.</th>
                                <th>Subtotal</th>
                                <th>Quitar</th>
                            </tr>
                        </thead>
                        <tbody id="compra-detalle-temporal">
                            </tbody>
                    </table>
                </div><div class="total-section">
                    <h4 id="compra-total-display">$ Total Compra: $0.00</h4>
                </div>
            </div>
            
            <button type="submit" class="btn-primary" style="margin-top: 10px;">
                <i class="fas fa-save"></i>
                Registrar Compra
            </button>
        </form>
        <p id="form-general-message-compra" class="form-message"></p>
    </div>

    <div class="table-section">
        <h4>Compras Registradas</h4>
        <p>Historial de compras a proveedores</p>
        <div class="table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        <th data-sort-by="fecha" class="sortable">Fecha <i class="sort-icon fas fa-sort"></i></th>
                        <th data-sort-by="proveedor.nombre" class="sortable">Proveedor <i class="sort-icon fas fa-sort"></i></th>
                        <th>Productos</th> <th>Costo Unit.</th> <th data-sort-by="total" class="sortable">Total <i class="sort-icon fas fa-sort"></i></th>
                    </tr>
                </thead>
                <tbody id="compras-historial-tabla-body">
                    </tbody>
                    
            </table>
        </div>
        <div class="pagination-controls" style="text-align: right; padding: 10px 0;">
        <span id="compras-page-info" style="margin-right: 15px;">Página 1 de 1</span>
        
        <button class="btn-outline" id="compras-prev-page" disabled>
            <i class="fas fa-arrow-left"></i>
        </button>
        <button class="btn-outline" id="compras-next-page">
            <i class="fas fa-arrow-right"></i>
        </button>
    </div>
    </div>
</section>

           <section id="usuarios-section" class="spa-section" style="display:none">
    <div class="section-header">
        </div>

    <div class="form-section">
        <h4>Registrar Nuevo Usuario</h4>
        <form id="user-form" class="product-form" novalidate>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="user-nombre">Nombre</label>
                    <input type="text" id="user-nombre" placeholder="Ingrese el nombre">
                    <div class="error-message" id="error-user-nombre"></div>
                </div>
                <div class="form-group">
                    <label for="user-apellido">Apellido</label>
                    <input type="text" id="user-apellido" placeholder="Ingrese el apellido">
                    <div class="error-message" id="error-user-apellido"></div>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="user-email">Email</label>
                    <input type="email" id="user-email" placeholder="correo@ejemplo.com">
                    <div class="error-message" id="error-user-email"></div>
                </div>
                <div class="form-group">
                    <label for="user-rol">Rol</label>
                    <select id="user-rol">
                    </select>
                    <div class="error-message" id="error-user-rol"></div>
                </div>
            </div>

            <class="form-row">
                <div class="form-group">
                    <label for="user-password">Contraseña</label>
                    <input type="password" id="user-password" placeholder="Ingrese la contraseña">
                    <div class="error-message" id="error-user-password"></div>
                </div>
                
                <div class="form-group">
                    <label for="user-confirm-password">Confirmar Contraseña</label>
                    <input type="password" id="user-confirm-password" placeholder="Confirme la contraseña">
                    <div class="error-message" id="error-user-confirm-password"></div>
                </div> 
                <button type="submit" class="btn-primary" style="margin-top: 20px;">
                <i class="fas fa-plus"></i>
                Registrar Usuario
            </button>
            
        </form>
        <p id="form-general-message-usuario" class="form-message"></p>
    </div>

    <div class="table-section">
        <h4>Usuarios Registrados</h4>
        <div class="table-container-usuarios">
            <table class="data-table">
                <thead>
                    <tr>
                        <th data-sort-by="nombre" class="sortable">Nombre <i class="sort-icon fas fa-sort"></i></th>
                        <th data-sort-by="apellido" class="sortable">Apellido <i class="sort-icon fas fa-sort"></i></th>
                        <th data-sort-by="email" class="sortable">Email <i class="sort-icon fas fa-sort"></i></th>
                        <th data-sort-by="rol.idRol" class="sortable">Rol <i class="sort-icon fas fa-sort"></i></th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody id="user-table-body">
                    </tbody>
            </table>

            <div class="pagination-controls" style="text-align: right; padding: 10px 0;">
            <span id="user-page-info" style="margin-right: 15px;">Página 1 de 1</span>
            <button class="btn-outline" id="user-prev-page" disabled>
                <i class="fas fa-arrow-left"></i>
            </button>
            <button class="btn-outline" id="user-next-page">
                <i class="fas fa-arrow-right"></i>
            </button>
        </div>
        </div>
    </div>
</section>




<section id="ventas-section" class="spa-section" style="display:none">
    <div class="section-header"></div>

    <div class="form-section">
        <h4>Registrar Nueva Venta</h4>
        <form class="sale-form" id="venta-form">
            
            <div class="form-row">
                <div class="form-group">
                    <label for="fecha-venta">Fecha</label>
                    <input type="date" id="fecha-venta">
                    <div class="error-message" id="errorFechaVenta"></div>
                </div>
                
                <div class="form-group">
                    <label for="venta-cliente-search">Buscar Cliente (Nombre, Apellido o DNI)</label>
                    
                    <div class="search-with-add">
                        <input type="text" id="venta-cliente-search" autocomplete="off" placeholder="Buscar cliente existente...">
                        
                        <button type="button" id="btn-add-cliente" class="btn-icon btn-add-quick" title="Crear Nuevo Cliente">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                    
                    <input type="hidden" id="venta-cliente-id-hidden">
                    <div class="product-results" id="venta-cliente-results"></div>
                    <span class="error-message" id="errorVentaCliente"></span>
                </div>
            </div>
            
            <div class="product-selection">
                <h5><i class="fas fa-box"></i> Selección de Producto</h5>
                <div class="form-row">
                    <div class="form-group">
                        <label for="product-search">Producto</label>
                        <div class="product-search-container">
                            <input type="text" id="product-search" placeholder="Buscar producto por nombre..." class="product-search-input">
                            <div id="product-results" class="product-results" style="display: none;"></div>
                        </div>
                        <div class="error-message" id="errorProducto"></div>
                    </div>
                    <div class="form-group">
                        <label for="cantidad-producto">Cantidad</label>
                        <input type="number" id="cantidad-producto" value="1" min="1">
                        <div class="error-message" id="errorCompraCantidad"></div>
                    </div>
                </div>
                <button type="button" id="btn-agregar-producto" class="btn-secondary">
                    <i class="fas fa-plus"></i>
                    Agregar Producto a la Venta
                </button>
                <div class="error-message" id="errorDetalleGeneral"></div>

                <div class="table-container" style="margin-top: 20px;">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Producto</th>
                                <th>Cantidad</th>
                                <th>Precio Unit.</th>
                                <th>Subtotal</th>
                                <th>Quitar</th>
                            </tr>
                        </thead>
                        <tbody id="venta-detalle-temporal">
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="total-section">
                <h4 id="total-venta">$ Total: $0.00</h4>
            </div>

            <button type="submit" class="btn-primary" id="btn-registrar-venta">
                <i class="fas fa-plus"></i>
                Registrar Venta
            </button>
        </form>
        <p id="form-general-message-venta" class="form-message"></p>
    </div>

    <div class="table-section">
        <h4>Ventas Registradas</h4>
        <p>Historial de ventas realizadas</p>
        <div class="table-container-venta">
            <table class="data-table" id="tabla-ventas">
                <thead>
                    <tr>
                        <th data-sort-by="fecha" class="sortable">Fecha <i class="sort-icon fas fa-sort"></i></th>
                        <th data-sort-by="cliente.nombre" class="sortable">Cliente <i class="sort-icon fas fa-sort"></i></th>
                        <th>Producto</th> <th data-sort-by="total" class="sortable">Total <i class="sort-icon fas fa-sort"></i></th>
                    </tr>
                </thead>
                <tbody id="tabla-ventas-body">
                </tbody>
            </table>
            <div class="pagination-controls" style="text-align: right; padding: 10px 0;">
                <span id="ventas-page-info" style="margin-right: 15px;">Página 1 de 1</span>
                <button class="btn-outline" id="ventas-prev-page" disabled>
                    <i class="fas fa-arrow-left"></i>
                </button>
                <button class="btn-outline" id="ventas-next-page">
                    <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
    </div>

    <div id="modal-add-cliente-overlay" class="modal"> <div class="modal-content"> <button id="modal-add-cliente-close" class="modal-close">&times;</button>

        <header class="modal-header">
            <h2>Crear Nuevo Cliente</h2>
            </header>
        
        <form id="add-cliente-form" class="modal-form" novalidate>
            
            <div class="form-message" id="form-general-message-add-cliente"></div>

            <div class="form-group">
                <label for="addClienteNombre">Nombre <span class="required">*</span></label>
                <input type="text" id="addClienteNombre" required>
                <span class="error-message" id="errorAddClienteNombre"></span>
            </div>

            <div class="form-group">
                <label for="addClienteApellido">Apellido</label>
                <input type="text" id="addClienteApellido">
            </div>

            <div class="form-group">
                <label for="addClienteDNI">DNI <span class="required">*</span></label>
                <input type="text" id="addClienteDNI" required>
                <span class="error-message" id="errorAddClienteDNI"></span>
            </div>
            
            <div class="form-group">
                <label for="addClienteTelefono">Teléfono</label>
                <input type="tel" id="addClienteTelefono">
            </div>

            <div class="modal-footer">
                <button type="submit" class="btn btn-primary">Guardar Cliente</button>
            </div>
        </form>
    </div>
</div>

</section>



            <section id="informes-section" class="spa-section" style="display:none">
                <div class="section-header">
                </div>

                <div class="filters-section">
                    <h4><i class="fas fa-search"></i> Filtros de Búsqueda</h4>
                    <p>Filtre los reportes por rango de fechas</p>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Fecha de Inicio</label>
                            <input type="date" id="fecha-inicio" placeholder="dd/mm/aaaa">
                            <div class="error-message" id="error-fecha-inicio"></div>
                        </div>
                        <div class="form-group">
                            <label>Fecha de Fin</label>
                            <input type="date" id="fecha-fin" placeholder="dd/mm/aaaa">
                            <div class="error-message" id="error-fecha-fin"></div>
                        </div>
                    </div>
                    <div class="filters-buttons">
                        <button type="button" class="btn-outline" id="limpiar-filtros">
                            <i class="fas fa-eraser"></i>
                            Limpiar Filtros
                        </button>
                        <button type="button" class="btn-primary" id="buscar-filtros">
                            <i class="fas fa-search"></i>
                            Buscar
                        </button>
                        <button type="button" class="btn-primary" id="exportar-pdf">
                            <i class="fas fa-file-pdf"></i>
                            Exportar PDF
                        </button>
                    </div>
                </div>

                <div id="reporte-informes" class="reports-section" style="display: none; margin-top: 20px;">
                    </div>

                </section>

            <section id="stock-section" class="spa-section" style="display:none">
    
    <div class="section-header">
        <h3>Gestión de Stock</h3>
        <p>Consultá y administrá el inventario de tus productos.</p>
    </div>

    <div class="search-section">
        <div class="search-box">
            <i class="fas fa-search"></i>
            
            <input type="text" placeholder="Buscar productos por nombre..." id="stock-search-input">
        </div>
    </div>

    <div class="table-section">
        <div class="table-container">
            <table class="data-table">
                <thead>
                    <tr>
                <th data-sort-by="nombre">
                    Nombre <i class="sort-icon fas fa-sort"></i>
                </th>
                
                <th data-sort-by="categoria">
                    Categoría <i class="sort-icon fas fa-sort"></i>
                </th>
                
                <th>Descripción</th>
                
                <th data-sort-by="precio">
                    Precio <i class="sort-icon fas fa-sort"></i>
                </th>
                
                <th data-sort-by="stock">
                    Stock <i class="sort-icon fas fa-sort"></i>
                </th>
                
                <th>Acciones</th>
            </tr>
                </thead>
                
                <tbody id="stock-table-body">
                    </tbody>
                    <tfoot>
                    <tr>
                        <td colspan="6">
                            <div class="pagination-controls" style="text-align: right; padding: 10px 0;">
                                <span id="page-info" style="margin-right: 15px;">Página 1 de 1</span>
                                <button class="btn-outline" id="prev-page" disabled>
                                    <i class="fas fa-arrow-left"></i>
                                </button>
                                <button class="btn-outline" id="next-page">
                                    <i class="fas fa-arrow-right"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>


    
</section>





        </main>
    </div>

<div id="logout-modal" class="modal">
        <div class="modal-content modal-compact">
            <h3>Confirmar Salida</h3>
            <p>¿Estás seguro de que deseas cerrar sesión?</p>
            <div class="modal-buttons" style="justify-content: center;">
                <button id="confirm-logout" class="btn-danger">Sí, Salir</button>
                <button id="cancel-logout" class="btn-outline">Cancelar</button>
            </div>
        </div>
    </div>

    <div id="modal-edit-proveedor-overlay" class="modal"> 
    
    <div class="modal-content">
        
        <button id="modal-edit-proveedor-close" class="modal-close">&times;</button>
        
        <h2>Editar Proveedor</h2>
        
        <form id="edit-proveedor-form" class="form-container">
            <input type="hidden" id="editProveedorId">
            
            <div class="form-group">
                <label for="editProveedorNombre">Nombre:</label>
                <input type="text" id="editProveedorNombre" class="form-control">
                <div class="error-message" id="errorEditNombre"></div>
            </div>
            
            <div class="form-group">
                <label for="editProveedorTelefono">Teléfono:</label>
                <input type="text" id="editProveedorTelefono" class="form-control">
                <div class="error-message" id="errorEditTelefono"></div>
            </div>
            
            <div class="form-group">
                <label for="editProveedorEmail">Email:</label>
                <input type="email" id="editProveedorEmail" class="form-control">
                <div class="error-message" id="errorEditEmail"></div>
            </div>
            
            <div class="form-group">
                <label for="editProveedorDireccion">Dirección:</label>
                <input type="text" id="editProveedorDireccion" class="form-control">
                <div class="error-message" id="errorEditDireccion"></div>
            </div>

            <div class="form-group">
                <label for="edit-productos-select-input">Productos que provee:</label>
                <div class="multi-select-container" id="edit-productos-multi-select-container">
                    <div class="tags-container" id="edit-tags-container"></div>
                    <input type="text" id="edit-productos-select-input" placeholder="Buscar productos...">
                </div>
                <select id="editProveedorProductosSelect" multiple hidden></select>
                <div class="options-container" id="edit-productos-options-container"></div>
                <div class="error-message" id="editProveedorProductosError"></div>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Guardar Cambios</button>
            </div>
            <div id="form-general-message-edit-proveedor" class="form-message"></div>
        </form>
    </div>
</div>

    <div class="modal" id="delete-confirm-modal" style="display: none;">
    <div class="modal-content" style="max-width: 400px; text-align: center;">
        
        <h3>Confirmar Eliminación</h3>
        
        <p id="delete-modal-message">¿Estás seguro de que querés borrar este producto?</p>
        
        <div class="modal-buttons" style="justify-content: center;">
            <button type="button" class="btn-outline" id="cancel-delete-btn">
                Cerrar
            </button>
            <button type="button" class="btn-danger" id="confirm-delete-btn">
                Aceptar
            </button>
        </div>

    </div>
</div>

<div class="modal" id="edit-product-modal" style="display: none;">
    <div class="modal-content" style="max-width: 600px;">
        <div class="modal-header">
            <h3><i class="fas fa-edit"></i> Editar Producto</h3>
            <button class="modal-close" id="edit-modal-close-btn">&times;</button>
        </div>
        
        <form id="edit-product-form">
    <input type="hidden" id="edit-product-id"> 

    <div class="form-row">
    <div class="form-group">
        <label for="edit-nombre">Nombre</label>
        <input type="text" id="edit-nombre">
        <div class="error-message" id="error-edit-nombre"></div>
    </div>
    <div class="form-group">
        <label for="edit-categoria">Categoría</label>
        <input type="text" id="edit-categoria" >
        <div class="error-message" id="error-edit-categoria"></div>
    </div>
</div>

<div class="form-group"> 
    <label for="edit-descripcion">Descripción</label>
    <textarea id="edit-descripcion"></textarea>
    <div class="error-message" id="error-edit-descripcion"></div>
</div>

<div class="form-row">
    <div class="form-group">
        <label for="edit-precio">Precio Venta</label>
        <input type="number" id="edit-precio" step="0.01" min="0">
        <div class="error-message" id="error-edit-precio"></div>
    </div>
    <div class="form-group">
        <label for="edit-stock-actual">Stock Actual (Solo Lectura)</label>
        <input type="text" id="edit-stock-actual" disabled>
    </div>
</div>

<div class="form-group"> 
    <label for="edit-cantidad-ajuste">Ajuste de Stock (Cantidad a añadir)</label>
    <input type="number" id="edit-cantidad-ajuste" value="0">
    <div class="error-message" id="error-edit-ajuste"></div>
</div>

<p id="edit-form-general-message" class="form-message"></p>

    <div class="modal-buttons">
        <button type="submit" class="btn-primary">Guardar Cambios</button>
    </div>
</form>

    </div>
</div>


<div class="modal" id="modal-edit-usuario-overlay" style="display:none;"> 
    <div class="modal-content" style="max-width: 600px;">
        <button id="modal-edit-usuario-close" class="modal-close">&times;</button>
        <h2>Editar Usuario</h2>
        
        <form id="edit-usuario-form" class="form-container">
            <input type="hidden" id="editUsuarioId">
            
            <div class="form-row">
                <div class="form-group">
                    <label for="editUsuarioNombre">Nombre:</label>
                    <input type="text" id="editUsuarioNombre" class="form-control">
                    <div class="error-message" id="errorEditUsuarioNombre"></div>
                </div>
                <div class="form-group">
                    <label for="editUsuarioApellido">Apellido:</label>
                    <input type="text" id="editUsuarioApellido" class="form-control">
                    <div class="error-message" id="errorEditUsuarioApellido"></div>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="editUsuarioEmail">Email:</label>
                    <input type="email" id="editUsuarioEmail" class="form-control">
                    <div class="error-message" id="errorEditUsuarioEmail"></div>
                </div>
                <div class="form-group">
                    <label for="editUsuarioRol">Rol:</label>
                    <select id="editUsuarioRol" class="form-control">
                        </select>
                    <div class="error-message" id="errorEditUsuarioRol"></div>
                </div>
            </div>
            


            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Guardar Cambios</button>
            </div>
            <div id="form-general-message-edit-usuario" class="form-message"></div>
        </form>
    </div>
</div>


    <script src="js/admin.js"></script>
    <script src="js/principal.js"></script>
    <script src="js/productos.js"></script>
    <script src="js/proveedor.js"></script>
    <script src="js/compras.js"></script>
    <script src="js/usuarios.js"></script>
    <script src="js/ventas.js"></script>
    <script src="js/informes.js"></script>
    <script src="js/stock.js"></script>
    
    </body>

</html>